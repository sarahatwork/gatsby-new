{"version":3,"sources":["../../src/commands/data-explorer.js"],"names":["express","require","graphqlHTTP","store","module","exports","program","port","host","parseInt","app","use","schema","getState","graphiql","console","log","listen"],"mappings":";;;;;;;;AAEA,MAAMA,UAAUC,QAAS,SAAT,CAAhB;AACA,MAAMC,cAAcD,QAAS,iBAAT,CAApB;AACA,MAAM,EAAEE,KAAF,KAAYF,QAAS,UAAT,CAAlB;;AAEA;AACAG,OAAOC,OAAP;AAAA,6CAAiB,WAAOC,OAAP,EAAwB;AACvC,QAAI,EAAEC,IAAF,EAAQC,IAAR,KAAiBF,OAArB;AACAC,WAAO,OAAOA,IAAP,KAAiB,QAAjB,GAA2BE,SAASF,IAAT,EAAe,EAAf,CAA3B,GAAgDA,IAAvD;;AAEA,UAAMG,MAAMV,SAAZ;AACAU,QAAIC,GAAJ,CACG,GADH,EAEET,YAAY;AACVU,cAAQT,MAAMU,QAAN,GAAiBD,MADf;AAEVE,gBAAU;AAFA,KAAZ,CAFF;;AAQAC,YAAQC,GAAR,CAAa,iCAAb,EAAgD,UAASR,IAAK,IAAGD,IAAK,EAAtE;AACAG,QAAIO,MAAJ,CAAWV,IAAX,EAAiBC,IAAjB;AACD,GAfD;;AAAA;AAAA;AAAA;AAAA","file":"data-explorer.js","sourcesContent":["/* @flow */\n\nconst express = require(`express`)\nconst graphqlHTTP = require(`express-graphql`)\nconst { store } = require(`../redux`)\n\n// Note: the store must exist already. Create it with `gatsby build`.\nmodule.exports = async (program: any) => {\n  let { port, host } = program\n  port = typeof port === `string` ? parseInt(port, 10) : port\n\n  const app = express()\n  app.use(\n    `/`,\n    graphqlHTTP({\n      schema: store.getState().schema,\n      graphiql: true,\n    })\n  )\n\n  console.log(`Gatsby data explorer running at`, `http://${host}:${port}`)\n  app.listen(port, host)\n}\n"]}